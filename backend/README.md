# Backend

## Модель: `LoadProfile`
Описывает профиль загрузки с различными параметрами.

### Данные:

* `id` (`int`): Идентификатор профиля нагрузки.
* `name` (`ProfileName`): Название профиля нагрузки.
* `description` (`str`): Описание профиля нагрузки.
* `committed_min` (`int | None`): Минимальное значение для зафиксированного ресурса.
* `committed_max` (`int | None`): Максимальное значение для зафиксированного ресурса.
* `tps_min` (`float | None`): Минимальное значение транзакций в секунду.
* `wal_mb_sec_min` (`float | None`): Минимальное значение записи в журнале на мегабайт в секунду.
* `temp_gb_per_hour_min` (`float | None`): Минимальное значение использования временной памяти в гигабайтах в час.
* `connections_min` (`int | None`): Минимальное количество подключений.

## API

Предоставляет различные типы отчётов, связанных с различными рабочими нагрузками в системе.

### Endpoints

#### `GET /oltp_work`

Генерация отчёта для OLTP нагрузки.

**Возвращает**: Отчёт OLTP (`dict`).

#### `GET /olap_work`

Генерация отчёта для OLAP нагрузки.

**Возвращает**: Отчёт OLAP (`dict`).

#### `GET /mixed_work`

Генерация отчёта для смешанной нагрузки.

**Возвращает**: Отчёт смешанной нагрузки (`dict`).


#### `GET /iot_work`

Генерация отчёта для IoT нагрузки.

**Возвращает**: Отчёт IoT нагрузки (`dict`).


#### `GET /read_intensive_work`

Генерация отчёта для Read-Intensive нагрузки.

**Возвращает**: Отчёт для read‑intensive нагрузки (`dict`).


#### `GET /write_intensive_work`

Генерация отчёта для Write-Intensive нагрузки.

**Возвращает**: Отчёт для write‑intensive нагрузки (`dict`).


#### `GET /web_work`

Генерация отчёта для анализа интерактивного веб-сервиса.

**Возвращает**: Отчёт веб-нагрузки (`dict`).


#### `GET /batch_work`

Генерация отчёта для анализа пакетной обработки

**Возвращает**: Отчёт batch-нагрузки (`dict`).

#### `GET /`

Корневой endpoint — простая проверка доступности API.

**Возвращает**: Информацию о сервисе (`dict`) со строковым полем `message` и полем `status`.

#### `GET /debug/metrics`

Отдаёт отладочные метрики приложения — полезно для локальной отладки и тестирования сбора метрик.

**Возвращает**: Словарь с временем, метриками и статусом(`dict`).

#### `GET /health`

Проверка здоровья приложения и статуса подключения к базе данных.

**Возвращает**: Словарь со статусом приложения (`dict`).
